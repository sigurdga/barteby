extends layout

block content
  section#account

  script#template(type="text/ractive")
    .row
      .columns
        h1 User data

        form(on-submit="updateUser")
          .errors

          .row.listair
            .columns.large-2.small-3
              label.right ID
            .columns.large-10.small-9
              #id {{user._id}}

          .row
            .columns.large-2.small-3
              label.right.inline Username
            .columns.large-10.small-9
              input#username(type="text" name="username" value="{{user.username}}")

          .row
            .columns.large-2.small-3
              label.right.inline Name
            .columns.large-10.small-9
              input#name(type="text" name="name" value="{{user.name}}")

          .row
            .columns.large-2.small-3
              label.right.inline E-mail
            .columns.large-10.small-9
              input#email(type="text" name="email" value="{{user.email}}")

          .row.listair
            .columns.large-2.small-3
              label.right Active
            .columns.large-10.small-9
              input#is_active(type="checkbox" name="active" checked="{{user.is_active}}" disabled)

          .row.listair
            .columns.large-2.small-3
              label.right Admin
            .columns.large-10.small-9
              input#is_admin(type="checkbox" name="admin" checked="{{user.is_admin}}" disabled)

          .row.listair
            .columns.large-2.small-3
              label.right Created
            #created.columns.large-10.small-9 {{user.created}}

          .row.listair
            .columns.large-10.small-9.large-offset-2.small-offset-3
              input#savebtn.button.small(type="submit" value="Save")

        h3 Google data

        .row.listair
          .columns.large-3.small-3
            label.right Google ID
          #google_id.columns.large-10.small-9 {{user.google_id}}


block javascript
  script
    | require('s7n').account.accountView(
    != JSON.stringify(active_user)
    | );
